{"ast":null,"code":"import _objectSpread from \"/home/ansibleuser1/project-app/projects/todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/ansibleuser1/project-app/projects/todo-app/src/components/app/app.js\";\nimport React, { Component } from 'react';\nimport AppHeader from '../app-header';\nimport TodoList from '../todo-list';\nimport SearchPanel from '../search-panel';\nimport ItemStatusFilter from '../item-status-filter';\nimport ItemAddForm from '../item-add-form';\nimport './app.css';\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.maxId = 100;\n    this.state = {\n      items: [{\n        id: 1,\n        label: 'Drink Coffee',\n        important: false,\n        done: false\n      }, {\n        id: 2,\n        label: 'Learn React',\n        important: true,\n        done: false\n      }, {\n        id: 3,\n        label: 'Make Awesome App',\n        important: false,\n        done: false\n      }],\n      filter: 'all',\n      search: ''\n    };\n\n    this.onItemAdded = label => {\n      this.setState(state => {\n        const item = this.createItem(label);\n        return {\n          items: [...state.items, item]\n        };\n      });\n    };\n\n    this.toggleProperty = (arr, id, propName) => {\n      const idx = arr.findIndex(item => item.id === id);\n      const oldItem = arr[idx];\n      const value = !oldItem[propName];\n\n      const item = _objectSpread({}, arr[idx], {\n        [propName]: value\n      });\n\n      return [...arr.slice(0, idx), item, ...arr.slice(idx + 1)];\n    };\n\n    this.onToggleDone = id => {\n      this.setState(state => {\n        const items = this.toggleProperty(state.items, id, 'done');\n        return {\n          items\n        };\n      });\n    };\n\n    this.onToggleImportant = id => {\n      this.setState(state => {\n        const items = this.toggleProperty(state.items, id, 'important');\n        return {\n          items\n        };\n      });\n    };\n\n    this.onDelete = id => {\n      this.setState(state => {\n        const idx = state.items.findIndex(item => item.id === id);\n        const items = [...state.items.slice(0, idx), ...state.items.slice(idx + 1)];\n        return {\n          items\n        };\n      });\n    };\n\n    this.onFilterChange = filter => {\n      this.setState({\n        filter\n      });\n    };\n\n    this.onSearchChange = search => {\n      this.setState({\n        search\n      });\n    };\n  }\n\n  createItem(label) {\n    return {\n      id: ++this.maxId,\n      label,\n      important: false,\n      done: false\n    };\n  }\n\n  filterItems(items, filter) {\n    if (filter === 'all') {\n      return items;\n    } else if (filter === 'active') {\n      return items.filter(item => !item.done);\n    } else if (filter === 'done') {\n      return items.filter(item => item.done);\n    }\n  }\n\n  searchItems(items, search) {\n    if (search.length === 0) {\n      return items;\n    }\n\n    return items.filter(item => {\n      return item.label.toLowerCase().indexOf(search.toLowerCase()) > -1;\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          items = _this$state.items,\n          filter = _this$state.filter,\n          search = _this$state.search;\n    const doneCount = items.filter(item => item.done).length;\n    const toDoCount = items.length - doneCount;\n    const visibleItems = this.searchItems(this.filterItems(items, filter), search);\n    return React.createElement(\"div\", {\n      className: \"todo-app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(AppHeader, {\n      toDo: toDoCount,\n      done: doneCount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"search-panel d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(SearchPanel, {\n      onSearchChange: this.onSearchChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(ItemStatusFilter, {\n      filter: filter,\n      onFilterChange: this.onFilterChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(TodoList, {\n      items: visibleItems,\n      onToggleImportant: this.onToggleImportant,\n      onToggleDone: this.onToggleDone,\n      onDelete: this.onDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(ItemAddForm, {\n      onItemAdded: this.onItemAdded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/ansibleuser1/project-app/projects/todo-app/src/components/app/app.js"],"names":["React","Component","AppHeader","TodoList","SearchPanel","ItemStatusFilter","ItemAddForm","App","maxId","state","items","id","label","important","done","filter","search","onItemAdded","setState","item","createItem","toggleProperty","arr","propName","idx","findIndex","oldItem","value","slice","onToggleDone","onToggleImportant","onDelete","onFilterChange","onSearchChange","filterItems","searchItems","length","toLowerCase","indexOf","render","doneCount","toDoCount","visibleItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport AppHeader from '../app-header';\nimport TodoList from '../todo-list';\nimport SearchPanel from '../search-panel';\nimport ItemStatusFilter from '../item-status-filter';\nimport ItemAddForm from '../item-add-form';\n\nimport './app.css';\n\n\nexport default class App extends Component {\n\n  maxId = 100;\n\n  state = {\n    items: [\n      { id: 1, label: 'Drink Coffee', important: false, done: false },\n      { id: 2, label: 'Learn React', important: true, done: false },\n      { id: 3, label: 'Make Awesome App', important: false, done: false }\n    ],\n    filter: 'all',\n    search: ''\n  };\n\n  onItemAdded = (label) => {\n    this.setState((state) => {\n      const item = this.createItem(label);\n      return { items: [...state.items, item] };\n    })\n  };\n\n  toggleProperty = (arr, id, propName) => {\n    const idx = arr.findIndex((item) => item.id === id);\n    const oldItem = arr[idx];\n    const value = !oldItem[propName];\n\n    const item = { ...arr[idx], [propName]: value } ;\n    return [\n      ...arr.slice(0, idx),\n      item,\n      ...arr.slice(idx + 1)\n    ];\n  };\n\n  onToggleDone = (id) => {\n    this.setState((state) => {\n      const items = this.toggleProperty(state.items, id, 'done');\n      return { items };\n    });\n  };\n\n  onToggleImportant = (id) => {\n    this.setState((state) => {\n      const items = this.toggleProperty(state.items, id, 'important');\n      return { items };\n    });\n  };\n\n  onDelete = (id) => {\n    this.setState((state) => {\n      const idx = state.items.findIndex((item) => item.id === id);\n      const items = [\n        ...state.items.slice(0, idx),\n        ...state.items.slice(idx + 1)\n      ];\n      return { items };\n    });\n  };\n\n  onFilterChange = (filter) => {\n    this.setState({ filter });\n  };\n\n  onSearchChange = (search) => {\n    this.setState({ search });\n  };\n\n  createItem(label) {\n    return {\n      id: ++this.maxId,\n      label,\n      important: false,\n      done: false\n    };\n  }\n\n  filterItems(items, filter) {\n    if (filter === 'all') {\n      return items;\n    } else if (filter === 'active') {\n      return items.filter((item) => (!item.done));\n    } else if (filter === 'done') {\n      return items.filter((item) => item.done);\n    }\n  }\n\n  searchItems(items, search) {\n    if (search.length === 0) {\n      return items;\n    }\n\n    return items.filter((item) => {\n      return item.label.toLowerCase().indexOf(search.toLowerCase()) > -1;\n    });\n  }\n\n  render() {\n    const { items, filter, search } = this.state;\n    const doneCount = items.filter((item) => item.done).length;\n    const toDoCount = items.length - doneCount;\n    const visibleItems = this.searchItems(this.filterItems(items, filter), search);\n\n    return (\n      <div className=\"todo-app\">\n        <AppHeader toDo={toDoCount} done={doneCount}/>\n\n        <div className=\"search-panel d-flex\">\n          <SearchPanel\n            onSearchChange={this.onSearchChange}/>\n\n          <ItemStatusFilter\n            filter={filter}\n            onFilterChange={this.onFilterChange} />\n        </div>\n\n        <TodoList\n          items={ visibleItems }\n          onToggleImportant={this.onToggleImportant}\n          onToggleDone={this.onToggleDone}\n          onDelete={this.onDelete} />\n\n        <ItemAddForm\n          onItemAdded={this.onItemAdded} />\n      </div>\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"module"}